<<<<<<< HEAD
'use strict';
const os = require('os');
const fs = require('fs');
const isDocker = require('is-docker');
=======
import process from 'node:process';
import os from 'node:os';
import fs from 'node:fs';
import isInsideContainer from 'is-inside-container';
>>>>>>> tundeseun/devtest

const isWsl = () => {
	if (process.platform !== 'linux') {
		return false;
	}

	if (os.release().toLowerCase().includes('microsoft')) {
<<<<<<< HEAD
		if (isDocker()) {
=======
		if (isInsideContainer()) {
>>>>>>> tundeseun/devtest
			return false;
		}

		return true;
	}

	try {
<<<<<<< HEAD
		return fs.readFileSync('/proc/version', 'utf8').toLowerCase().includes('microsoft') ?
			!isDocker() : false;
	} catch (_) {
=======
		return fs.readFileSync('/proc/version', 'utf8').toLowerCase().includes('microsoft')
			? !isInsideContainer() : false;
	} catch {
>>>>>>> tundeseun/devtest
		return false;
	}
};

<<<<<<< HEAD
if (process.env.__IS_WSL_TEST__) {
	module.exports = isWsl;
} else {
	module.exports = isWsl();
}
=======
export default process.env.__IS_WSL_TEST__ ? isWsl : isWsl();
>>>>>>> tundeseun/devtest
